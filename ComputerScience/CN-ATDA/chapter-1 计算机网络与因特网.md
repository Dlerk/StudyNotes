
### 第一章
# 计算机网络与因特网

## 1 因特网

&emsp; 因特网是一个世界范围的计算机网络，即它是一个互联了遍及全世界数十亿计算设备的网络。

&emsp; 所有的这些设备称为**主机**或**端系统**。

模型：
> 不同的端系统可以类比为不同的`建筑物`

![](img/图1-1%20因特网的一些部件.png)



<div class='cq'>

+ 端系统之间是如何连接的？
+ 端系统如何接入因特网的？
+ TCP/IP是什么？
+ 另一角度描述因特网
+ 协议是用来做什么的？

</div>


### 端系统之间是如何连接的

&emsp;端系统通过**通信链路**和**分组交换机**连接到一起。

+ 通信链路

    通信链路就是从一个结点到相邻结点的一段物理线路，中间没有任何其他的交换结点。
    链路的**传输速率**以`比特/秒(bits/s,bps)`度量。

    模型：
    > 链接各个端系统建筑物之间的`公路`

+ 分组交换机

    **分组**：
    &emsp;当一台端系统要向另一台端系统发送数据时，发送端系统将数据分段，并为每段加上首部字节。由此形成的信息包成为**分组**。

    &emsp;这些分组通过网络发送到目的端系统，在那里被装配成初始数据。

    模型：
    > 装载着货物(信息数据)的货车，组建成货车车队，每辆卡车独立地向目的地运输货物

    两种最著名的分组交换机类型：
    ```
      - 路由器
      - 链路层交换机
    ```

    这两种类型的交换机朝着最终目的地转发分组。

    模型：
    > 公路的交叉口，通往目的地有许多路径可以选择，因此卡车走的路径不总是相同(转发)

    **路径**：
    &emsp;从发送端系统到接收端系统，一个分组所经历的一系列通信链路和分组交换机称为通过该网络的**路径**(route或path)。

### 端系统是如何接入因特网的

端系统通过因特网服务提供商(InternetService Provider, ISP)接入因特网。

例如：
```
- 住宅区ISP
- 公司ISP
- 大学ISP
- 机场、旅馆等公共场所所提供的Wi-Fi所接入的ISP
- 蜂窝数据ISP
```

&emsp;ISP也为内容提供者提供因特网接入服务，将Web站点和视频服务器直接连入因特网。因特网就是将端系统彼此互联，因此为端系统提供接入的ISP也必须互联。

- 较低层的ISP通过国家的、国际的较高层ISP(如Level3 Communica-tions、AT&T、Sprint和N'IT)互联起来。
- 较高层ISP是由通过高速光纤链路互联的高速路由器组成的。

&emsp;无论是较高层还是较低层ISP网络，它们每个都是独立管理的，运行着IP协议，遵从一定的命名和地址规则。

模型：
> 为货车提供交通系统(公路、立交桥等)的运营商

### 什么是TCP/IP

端系统、分组交换机和其他因特网部件都要运行一系列**协议**。这些协议控制因特网中信息的接收和发送。

其中，**TCP**(Transmission Control Protocol, 传输控制协议）和**IP**(Internet Protocol, 网际协议）是因特网中两个最为重要的协议：

+ TCP
  
    TCP协议在不可靠的互联网络上提供了可靠的端到端字节流。

+ IP
  
    IP协议定义了在路由器和端系统之间发送和接收的分组格式。

模型:
> 货车在公路上行驶的交通规则

### 另一角度描述因特网

&emsp;前面的讨论已经辨识了构成因特网的许多部件。但是我们也能从一个完全不同的角度
即：**为应用程序提供服务的基础设施**的角度来描述因特网

+ 分布式应用程序

    因特网应用常常设计多个相互交换数据的端系统，故称之为**分布式应用程序**。

    因特网应用程序运行在端系统上：`它们并不运行在网络核心中的分组交换机中`。

    模型：
    > 建筑物内的住户，会请求货车向其他住户、或者住在其他建筑物里的亲戚送信或者快递

不同端系统上的应用程序如何怎样才能指示因特网，向运行在另一个端系统上的软件发送数据呢？

答案是使用**套接字接口**。

+ 套接字接口

    一套发送信息的程序必须遵循的**规则集合**。

    &emsp;该接口规定了运在一个端系统上的程序请求因特网基础设施向运行在另一个端系统上的特定目的地程序**交付数据的方式**.

    模型：
    > 送信或者快递时要遵循的规则：装入信封或者箱子，写上发件人、收件人以及邮政编码，贴上邮票等等。

    &emsp;类似于邮政服务，因特网也向应用程序提供乐多种服务。一个因特网应用程序必须选择其中的一种因特网服务。

